"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9835],{31862:function(e,n,i){i.d(n,{Z:function(){return m}});var d=i(32570),s=e=>{var n,i;if(e)return{...e,phonetics:{firstName:(null==e?void 0:null===(n=e.phonetics)||void 0===n?void 0:n.firstName)||"",lastName:(null==e?void 0:null===(i=e.phonetics)||void 0===i?void 0:i.lastName)||""}}},a=i(60851),t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetDynamicShippingAddress"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addresses"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"shipping"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"address"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"fields"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"key"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"formatted"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"raw"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"address"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"firstName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lastName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"address1"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"address2"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"city"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"region"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"country"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"postalCode"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"phone"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"display"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"parsed"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"address"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"firstName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lastName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"address1"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"address2"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"city"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"region"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"country"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"postalCode"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"phone"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"display"},arguments:[],directives:[]}]}}]}}]}}]}}]}}],loc:{start:0,end:782,source:{body:"\n  query GetDynamicShippingAddress {\n    addresses {\n      shipping {\n        address {\n          fields {\n            key\n            value\n          }\n        }\n        formatted {\n          raw {\n            address {\n              firstName\n              lastName\n              address1\n              address2\n              city\n              region\n              country\n              postalCode\n              phone\n            }\n            display\n          }\n          parsed {\n            address {\n              firstName\n              lastName\n              address1\n              address2\n              city\n              region\n              country\n              postalCode\n              phone\n            }\n            display\n          }\n        }\n      }\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},l=e=>({firstName:e.firstName||"",lastName:e.lastName||"",streetAddress:e.address1||"",extendedAddress:e.address2||"",locality:e.city||"",region:e.region||"",postalCode:e.postalCode||"",countryCodeAlpha2:e.country||"",telephone:e.phone||""}),r=(e,n)=>({...e,phonetics:{firstName:n.firstName||"",lastName:n.lastName||""}}),u=()=>{let{data:e,isFetched:n}=(0,a.Z)(t,{select:e=>{var n,i;if(!(null==e?void 0:null===(i=e.addresses)||void 0===i?void 0:null===(n=i.shipping)||void 0===n?void 0:n.length))return{};let d=l(e.addresses.shipping[0].formatted.raw.address),s=l(e.addresses.shipping[0].formatted.parsed.address);return{dynamicAddress:e.addresses.shipping[0].address.fields.reduce((e,n)=>(e[n.key]=n.value,e),{}),parsedAddress:{address:s,display:e.addresses.shipping[0].formatted.parsed.display},rawAddress:{address:d,display:e.addresses.shipping[0].formatted.raw.display},shippingAddressWithPhonetics:r(d,s)}}});return{...e,isShippingAddressLoading:!n}};let o=e=>e?[null==e?void 0:e.streetAddress,null==e?void 0:e.extendedAddress,(null==e?void 0:e.locality)?`${null==e?void 0:e.locality},`:void 0,null==e?void 0:e.region,null==e?void 0:e.countryCodeAlpha2].join(" "):void 0;var m=()=>{var e,n,i;let a=(0,d.Z)(),{rawAddress:t,dynamicAddress:l,parsedAddress:r,isShippingAddressLoading:m,shippingAddressWithPhonetics:c}=u();return{shippingAddress:(null==t?void 0:t.address)||(null==a?void 0:null===(e=a.Shipping)||void 0===e?void 0:e.Address),inlineShippingAddress:o((null==t?void 0:t.address)||(null==a?void 0:null===(n=a.Shipping)||void 0===n?void 0:n.Address)),shippingAddressWithPhonetics:c||s(null==a?void 0:null===(i=a.Shipping)||void 0===i?void 0:i.Address),isShippingAddressLoading:m,rawAddress:t,dynamicAddress:l,parsedAddress:r}}},9835:function(e,n,i){i.d(n,{Z:function(){return p}});var d,s=i(67294),a=i(4480),t=i(28381),l=i(53644),r=i(39941),u=i(89424),o=i(61553),m=e=>n=>{let{setSelf:i,onSet:d}=n;if(!o.sk){let n=localStorage.getItem(e);null!=n&&i(JSON.parse(n)),d(n=>{localStorage.setItem(e,JSON.stringify(n))})}};(d||(d={})).selectedSizeLocale="selectedSizeLocale";let c=(0,u.Z)("product",Object.values(d)),v=(0,a.cn)({key:c.product.selectedSizeLocale.atom,default:null,effects:[m("stockx_selected_size_locale")]}),k=(0,a.cn)({key:"selectedAdultSneakerLocale",default:null,effects:[m("selected_adult_sneaker_locale")]});var p=function(){let{productGender:e=null,productCategory:n=null,availableConversions:i=null}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},[d,u]=(0,a.FV)(v),[o,m]=(0,a.FV)(k),c=(0,s.useMemo)(()=>{let d="sneakers"===n,s="men"===e||"women"===e||"unisex"===e,a=!!i&&i.length>1;return d&&s&&a},[i,n,e]),p=(0,s.useCallback)(e=>{u(e),c&&m(e)},[c,m,u]),g=(0,l.Z)(),{userInEU:S}=(0,t.Z)(),f=(0,s.useCallback)(e=>{if(!i)return!1;let n=i.find(n=>(null==n?void 0:n.type.toUpperCase())===e);return!!n},[i]),N=(0,s.useMemo)(()=>{var s,a;let t;if(i&&(null===(s=i[0])||void 0===s?void 0:s.type)&&(t=null===(a=i[0])||void 0===a?void 0:a.type.toUpperCase()),"US"===o&&"men"===e&&"sneakers"===n&&f("US W"))return p("US W"),"US W";if("US W"===o&&"women"===e&&"sneakers"===n&&f("US"))return p("US"),"US";if(c&&o&&o!==d&&f(o)&&p(o),d&&i&&!f(d)){if(c&&o&&f(o))return p(o),o;if(t&&i&&i.length>=1)return p(t),t}if(!d){if((S||r.h.includes(g))&&f("EU"))return p("EU"),"EU";if("GB"===g&&f("UK"))return p("UK"),"UK";if("KR"===g&&f("KR"))return p("KR"),"KR";if("JP"===g&&f("CM"))return p("CM"),"CM";if("women"===e&&"sneakers"===n&&f("US"))return p("US"),"US";if("men"===e&&"sneakers"===n&&f("US M"))return p("US M"),"US M";if(t)return p(t),t}return d},[i,o,e,n,f,d,p,c,S,g]);return{sizeLocale:N,setSizeLocale:p}}},28381:function(e,n,i){i.d(n,{Z:function(){return u}});var d=i(14416),s=i(90962),a=i(67294),t=i(39941);let l=["CN","HK","SG","ID","MO","KR","TW"];var r=i(31862),u=()=>{let{shippingAddress:e}=(0,r.Z)(),n=(null==e?void 0:e.countryCodeAlpha2)||"",{billingCountry:i,marketCountry:u}=(0,d.v9)(e=>({billingCountry:(0,s.sG)(e),marketCountry:(0,s.Hc)(e)})),o=(0,a.useMemo)(()=>t.h.includes(u)||t.h.includes(n)||t.h.includes(i),[u,n,i]),m=(0,a.useMemo)(()=>l.includes(u)||l.includes(n)||l.includes(i),[u,n,i]);return{userInEU:o,userInAPAC:m}}}}]);