"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8559],{1481:function(e,i,n){var t,a;n.d(i,{o:function(){return t}}),(a=t||(t={}))["drc.home.standard"]="drc.home.standard",a["drc.catalog.browse"]="drc.catalog.browse",a["drc.catalog.browse.2.0"]="drc.catalog.browse.2.0",a["drc.catalog.search"]="drc.catalog.search",a["drc.catalog.releases"]="drc.catalog.releases",a["drc.pdp.standard"]="drc.pdp.standard",a["drc.product-suggestion"]="drc.product-suggestion",a["chk.checkout.buy"]="chk.checkout.buy",a["chk.checkout.sell"]="chk.checkout.sell",a["chk.settings.buying"]="chk.settings.buying",a["chk.settings.selling"]="chk.settings.selling",a["chk.settings.shipping"]="chk.settings.shipping",a["chk.settings.payout"]="chk.settings.payout",a["chk.settings.verify-payout"]="chk.settings.verify-payout",a["chk.portfolio.detail"]="chk.portfolio.detail",a["chk.settings.citcon"]="chk.settings.citcon",a["ist.auth-error"]="ist.auth-error",a["ist.gdpr"]="ist.gdpr",a["ist.auth.reset-password"]="ist.auth.reset-password",a["ist.auth.signout"]="ist.auth.signout",a["ist.auth.social-confirm"]="ist.auth.social-confirm",a["ist.nft-news-signup"]="ist.nft-news-signup",a["sell.shipment.create"]="sell.shipment.create",a["sell.shipment.edit"]="sell.shipment.edit",a["mktech.unsubscribe"]="mktech.unsubscribe",a["mktech.charity-list"]="mktech.charity-list",a["mktech.landing.promo"]="mktech.landing.promo",a["mktech.most-popular"]="mktech.most-popular",a["mktech.countdown"]="mktech.countdown",a["mktech.sms"]="mktech.sms",a["account.account"]="account.account",a["account.buying"]="account.buying",a["account.selling"]="account.selling",a["account.following"]="account.following",a["account.favorites"]="account.favorites",a["account.portfolio"]="account.portfolio",a["account.profile.view"]="account.profile.view",a["account.profile.edit"]="account.profile.edit",a["account.settings"]="account.settings",a["account.security"]="account.security",a["account.settings.profile"]="account.settings.profile",a["account.message-center"]="account.message-center",a["account.debug"]="account.debug-menu",a["brochure.accessibility-statement"]="brochure.accessibility-statement",a["brochure.available-countries"]="brochure.available-countries",a["brochure.cookies"]="brochure.cookies",a["brochure.data-processors"]="brochure.data-processors",a["brochure.error.404"]="brochure.error.404",a["brochure.impressum"]="brochure.impressum",a["brochure.tokutei"]="brochure.tokutei",a["brochure.localization-settings"]="brochure.localization-settings",a["brochure.privacy"]="brochure.privacy",a["brochure.terms"]="brochure.terms",a["brochure.supplier-code-of-conduct"]="brochure.supplier-code-of-conduct",a["brochure.sms-tos"]="brochure.sms-tos"},3226:function(e,i,n){var t,a;n.d(i,{t:function(){return t}}),(a=t||(t={})).Buy="buy",a.Bid="bid",a.Sell="sell",a.Ask="ask",a.AskUpdate="ask update",a.BidUpdate="bid update"},11085:function(e,i,n){var t,a;n.d(i,{T:function(){return t}}),(a=t||(t={})).Buy="buy",a.Sell="sell"},12502:function(e,i,n){n.d(i,{T:function(){return t}});let t={STANDARD:"STANDARD",VAULT:"VAULT",EXPRESS:"EXPRESS"}},26057:function(e,i,n){var t=n(28093);i.Z=()=>{let e=(0,t.Z)();return(null==e?void 0:e.pathname.includes("/buy"))||(null==e?void 0:e.pathname.includes("/sell"))}},27970:function(e,i){i.Z={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"EuVat"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"viewer"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"taxes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"euVAT"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isExpired"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:121,source:{body:"\n  query EuVat {\n    viewer {\n      taxes {\n        euVAT {\n          id\n          isExpired\n        }\n      }\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}}},23206:function(e,i,n){n.d(i,{Z:function(){return A}});var t=n(12073),a=n(32570),d=n(28381),o=n(67294),r=n(37887),u=n(50319);let l=e=>!!e&&13===e.length&&("P"===e[0]||"p"===e[0])&&Number.isInteger(Number(e.substring(1))),c=e=>!!e&&11===e.length&&Number.isInteger(Number(e)),s=e=>e&&e.replace(/.(?=.{4,}$)/g,"*");var m=n(23353),v=n(13062),k=n(51657),p=n(70625),g=n(63093),y=n(22369),h=n(11085),f=n(61628),S=n(31862),b=n(27435),N={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"FetchRegulatoryIds"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"countryCode"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"viewer"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"compliance"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"regulatoryIds"},arguments:[{kind:"Argument",name:{kind:"Name",value:"countryCode"},value:{kind:"Variable",name:{kind:"Name",value:"countryCode"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"regIdUuid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"userUuid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"countryCode"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"idType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"idValue"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:260,source:{body:"\n  query FetchRegulatoryIds($countryCode: String!) {\n    viewer {\n      compliance {\n        regulatoryIds(countryCode: $countryCode) {\n          regIdUuid\n          userUuid\n          countryCode\n          idType\n          idValue\n        }\n      }\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},I={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"CreateChkRegulatoryId"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"countryCode"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"idType"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"idValue"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createIdentificationNumber"},arguments:[{kind:"Argument",name:{kind:"Name",value:"idInput"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"countryCode"},value:{kind:"Variable",name:{kind:"Name",value:"countryCode"}}},{kind:"ObjectField",name:{kind:"Name",value:"idType"},value:{kind:"Variable",name:{kind:"Name",value:"idType"}}},{kind:"ObjectField",name:{kind:"Name",value:"idValue"},value:{kind:"Variable",name:{kind:"Name",value:"idValue"}}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"regIdUuid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"userUuid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"countryCode"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"idType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"idValue"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:317,source:{body:"\n  mutation CreateChkRegulatoryId(\n    $countryCode: String!\n    $idType: String!\n    $idValue: String!\n  ) {\n    createIdentificationNumber(\n      idInput: { countryCode: $countryCode, idType: $idType, idValue: $idValue }\n    ) {\n      regIdUuid\n      userUuid\n      countryCode\n      idType\n      idValue\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},C={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UpdateRegulatoryId"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"regIdUuid"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"idInput"}},type:{kind:"NamedType",name:{kind:"Name",value:"IdParameterInput"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updateIdentificationNumber"},arguments:[{kind:"Argument",name:{kind:"Name",value:"regIdUuid"},value:{kind:"Variable",name:{kind:"Name",value:"regIdUuid"}}},{kind:"Argument",name:{kind:"Name",value:"idInput"},value:{kind:"Variable",name:{kind:"Name",value:"idInput"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"regIdUuid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"userUuid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"countryCode"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"idType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"idValue"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:243,source:{body:"\n  mutation UpdateRegulatoryId($regIdUuid: String!, $idInput: IdParameterInput) {\n    updateIdentificationNumber(regIdUuid: $regIdUuid, idInput: $idInput) {\n      regIdUuid\n      userUuid\n      countryCode\n      idType\n      idValue\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},T={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UpdateEUVATID"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updateEUVATID"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isExpired"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:106,source:{body:"\n  mutation UpdateEUVATID($id: String!) {\n    updateEUVATID(id: $id) {\n      id\n      isExpired\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},V=n(27970),A=()=>{var e,i,n,A,D,E,F,w,U,_,R,B,x,P,Z,O,q,M,$,L,Q,z,G;let j;let K=(0,t.Z)(),X=(0,a.Z)(),{shippingAddress:H}=(0,S.Z)(),W=(0,y.Z)(),Y=(0,k.Z)(),{setStep:J}=(0,b.Z)(),ee=(0,p.Z)(),[ei,en]=(0,o.useState)(""),[et,ea]=(0,o.useState)(!1),[ed,eo]=(0,o.useState)(!1),{updateCustomer:er}=(0,v.Z)({setError:en,setLoading:ea}),[eu,el]=(0,o.useState)(""),{t:ec}=(0,m.$G)(),{userInEU:es}=(0,d.Z)(),em=(null==H?void 0:H.countryCodeAlpha2)==="MX",ev="true"===(0,f.Z)("feature_mexico_rfc_id_web"),ek=(null==H?void 0:H.countryCodeAlpha2)==="QA",ep=(null==H?void 0:H.countryCodeAlpha2)==="KR",{data:eg,loading:ey}=(0,r.a)(V.Z,{variables:{},skip:K&&!es||!K,fetchPolicy:"no-cache"}),{data:eh,loading:ef,error:eS}=(0,r.a)(N,{variables:{countryCode:null==H?void 0:H.countryCodeAlpha2},skip:!(null==H?void 0:H.countryCodeAlpha2)||!ev||!em&&ev&&K,fetchPolicy:"no-cache"}),[eb,{data:eN,loading:eI,error:eC}]=(0,u.D)(T),[eT,{data:eV,loading:eA,error:eD}]=(0,u.D)(C),[eE,{data:eF,loading:ew,error:eU}]=(0,u.D)(I);(0,o.useEffect)(()=>{eI||eA||ew?eo(!0):eo(!1)},[eI,eA,ew]),(0,o.useEffect)(()=>{ef||ey?ea(!0):ea(!1)},[ey,ef]),(0,o.useEffect)(()=>{if(eC&&en("eu_vat_generic_error"),eD||eU){var e,i;en(null==eD?void 0:null===(i=eD.graphQLErrors[0])||void 0===i?void 0:null===(e=i.extensions)||void 0===e?void 0:e.payload)}eS&&en("regulatory_id_error")},[eS,eC,eD,eU]),es&&(j={country:null==H?void 0:H.countryCodeAlpha2,countryCode:null==H?void 0:H.countryCodeAlpha2,idValue:(null==eN?void 0:null===(A=eN.updateEUVATID)||void 0===A?void 0:A.id)||(null==eg?void 0:null===(F=eg.viewer)||void 0===F?void 0:null===(E=F.taxes)||void 0===E?void 0:null===(D=E.euVAT)||void 0===D?void 0:D.id)||ec("eu_vat_empty"),idType:"VAT ID",canSkip:!0,isExpired:(null==eN?void 0:null===(w=eN.updateEUVATID)||void 0===w?void 0:w.isExpired)||(null==eg?void 0:null===(R=eg.viewer)||void 0===R?void 0:null===(_=R.taxes)||void 0===_?void 0:null===(U=_.euVAT)||void 0===U?void 0:U.isExpired),name:"VAT ID",reason:"eu_vat_subheader",required:!1}),em&&W===h.T.Sell&&ev&&(j={country:"Mexico",countryCode:"MX",idType:"RFC ID",canSkip:!1,idValue:(null==eF?void 0:null===(B=eF.createIdentificationNumber)||void 0===B?void 0:B.idValue)||(null==eV?void 0:null===(x=eV.updateIdentificationNumber)||void 0===x?void 0:x.idValue)||(null==eh?void 0:null===(q=eh.viewer)||void 0===q?void 0:null===(O=q.compliance)||void 0===O?void 0:null===(Z=O.regulatoryIds)||void 0===Z?void 0:null===(P=Z[0])||void 0===P?void 0:P.idValue),name:"Mexico ID",reason:"regulatory_rfc_reason",regIdUuid:null==eh?void 0:null===(Q=eh.viewer)||void 0===Q?void 0:null===(L=Q.compliance)||void 0===L?void 0:null===($=L.regulatoryIds)||void 0===$?void 0:null===(M=$[0])||void 0===M?void 0:M.regIdUuid,required:!0}),ep&&(j={code:"ccicId",country:"South Korea",countryCode:"KR",idType:"CCIC",idValue:s(null==X?void 0:null===(z=X.Meta)||void 0===z?void 0:z.ccicId),name:"CCIC",reason:"regulatory_ccic_reason",required:!0,canSkip:!1}),ek&&(j={code:"qatarId",country:"Qatar",countryCode:"QA",idType:"Qatar ID",idValue:s(null==X?void 0:null===(G=X.Meta)||void 0===G?void 0:G.qatarId),name:"Qatar ID",reason:"regulatory_qatarid_reason",required:!0,canSkip:!1});let e_=(0,o.useMemo)(()=>({pathname:Y("/settings"),state:{prevPath:Y("/settings/regulatory")}}),[Y]),eR=(0,o.useCallback)(()=>{if(W===h.T.Buy){var e;J(null===(e=g.j)||void 0===e?void 0:e.BidEntry);return}ee.push(e_)},[W,ee,e_,J]),eB=(0,o.useCallback)(async e=>{var i,n,t,a;if(X&&(eu||es||en("field_required"),em&&(null===(i=j)||void 0===i?void 0:i.idValue)&&eT({variables:{regIdUuid:null===(t=j)||void 0===t?void 0:t.regIdUuid,idInput:{countryCode:null==H?void 0:H.countryCodeAlpha2,idType:"RFC",idValue:eu}},onCompleted:eR}),!em||(null===(n=j)||void 0===n?void 0:n.idValue)||eE({variables:{countryCode:null==H?void 0:H.countryCodeAlpha2,idType:"RFC",idValue:eu},onCompleted:eR}),es&&eu&&eb({variables:{id:eu},onCompleted:eR}),es&&!eu&&eR(),ep||ek)){if(ep&&!l(eu)){en("invalid_ccic_error");return}if(ek&&!c(eu)){en("qatar_id_invalid_error");return}eo(!0);let{id:i,firstName:n,lastName:t,username:d,defaultSize:o,defaultCurrency:r,email:u,Meta:s}=X;await er(i,{Customer:{firstname:n,lastname:t,username:d,defaultSize:o,defaultCurrency:r,email:u,Meta:{...s,[null===(a=j)||void 0===a?void 0:a.code]:eu}}}),eo(!1),e?e():eR()}},[eE,X,eu,eR,null===(e=j)||void 0===e?void 0:e.code,null===(i=j)||void 0===i?void 0:i.idValue,null===(n=j)||void 0===n?void 0:n.regIdUuid,er,eb,eT,es,ep,em,ek,H]);return(0,o.useMemo)(()=>({handleCancel:eR,handleUpdateId:eB,loading:et,idError:ei,regulatoryIdConfig:j,setTempId:el,tempId:eu,updatingId:ed}),[eR,eB,et,ei,j,el,eu,ed])}},27435:function(e,i,n){var t=n(67294),a=n(63093),d=n(23843);i.Z=()=>{let e=(0,d.Z)(),{dispatch:i,state:{step:n}}=(0,t.useContext)(e),o=(0,t.useCallback)(e=>{i({type:a.qB,payload:e})},[i]);return(0,t.useMemo)(()=>({setStep:o,step:n}),[o,n])}},99974:function(e,i,n){var t=n(67294),a=n(72040),d=n(3226),o=n(12502),r=n(89274);a.Z,d.t.Buy,o.T.STANDARD,r.Z;let u={state:{discountCode:"",pricing:a.Z,action:d.t.Buy,step:null,amount:0,bidAmount:0,error:null,expiration:30,deliveryMethod:o.T.STANDARD,marketState:r.Z},dispatch:()=>null},l=(0,t.createContext)(u);l.displayName="CheckoutContext",i.Z=l},89274:function(e,i){i.Z={highestBid:{amount:0},lowestAsk:{amount:0},numberOfAsks:0,numberOfBids:0}},72040:function(e,i){i.Z={context:"",discountCode:"",pricingError:"",flow:"",pricingLoading:!1,pricing:{adjustments:[],payout_enabled:!0,subtotal:0,total:0,estimated:!1,flags:{allIn:!1,ddpEnabled:!1},totalUSD:0,fetching:!1},productName:"",productUUID:"",success:!1,skuUUID:"",vertical:""}},63093:function(e,i,n){var t,a,d,o;n.d(i,{$A:function(){return g},Go:function(){return m},Jf:function(){return s},Ng:function(){return k},_o:function(){return u},gM:function(){return v},j:function(){return a},ku:function(){return y},qB:function(){return l},qK:function(){return t},r2:function(){return c},tl:function(){return r},wu:function(){return p}});let r="SET_PRICING",u="SET_ACTION",l="SET_STEP",c="SET_AMOUNT",s="SET_BID_AMOUNT",m="SET_ERROR",v="SET_DISCOUNT_CODE",k="SET_EXPIRATION",p="SET_DELIVERY_METHOD",g="SET_MARKET_STATE";(d=t||(t={})).SizeSelectorPage="Size Selector Page",d.SizeChartPage="Size Chart Page",d.BuyNowForm="Buy Now Form",d.PlaceBidForm="Place Bid Form",d.ReviewPurchaseScreen="Review Purchase Screen",d.ReviewBidScreen="Review Bid Screen",d.ShippingInfoScreen="Shipping Info Screen",d.BillingInfoScreen="Billing Info Screen",d.HowItWorks="How It Works",d.InternationalNotAllowed="International Not Allowed",d.LockedAction="Locked Action",d.BuyingForm="Buying Form",d.BuyingConfirm="Buying Confirm",d.MFARequired="MFA Required",(o=a||(a={})).SizeSelect="Checkout Size Select",o.BidEntry="Checkout Bid Entry",o.Billing="Checkout Billing",o.Shipping="Checkout Shipping",o.RegulatoryId="Checkout Regulatory Id",o.Review="Checkout Review",o.Success="Checkout Success";let y={en:"http://stockx.com/news/vat-registration",de:"http://stockx.com/news/de-de/vat-registration-de",it:"http://stockx.com/news/it-it/vat-registration-it",fr:"http://stockx.com/news/fr-fr/vat-registration-fr"}},69998:function(e,i,n){var t,a,d,o;n.d(i,{SS:function(){return t},Yc:function(){return r},if:function(){return a}}),(d=t||(t={})).SellNowForm="Sell Now Form",d.PlaceAskForm="Place Ask Form",(o=a||(a={})).SizeSelect="Sell Size Select",o.AmountEntry="Sell Amount Entry",o.Payment="Sell Payment",o.Payout="Sell Payout",o.Confirm="Sell Confirm",o.Success="Sell Success",o.Taxes="Sell Regulatory",o.Shipping="Sell Shipping Form";let r="xa3iod9eksl033ondoapceed"},42600:function(e,i,n){var t=n(72040),a=n(69998),d=n(3226),o=n(67294);let r={pricing:t.Z,action:d.t.Sell,amount:0,step:a.if.AmountEntry,error:null,selectedProduct:null,discountCode:""},u=(0,o.createContext)({state:r,dispatch:()=>null});u.displayName="SellContext",i.Z=u}}]);