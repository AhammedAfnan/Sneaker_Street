"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7503],{97358:function(e,l,t){t.d(l,{J:function(){return n}});var n=(0,t(40078).I)({displayName:"ChevronDownIcon",viewBox:"0 0 50 50",d:"M9.80001 14.2L25 30.4L40.2 14.2001L42.9 16.7001L25 35.8L7.10001 16.7L9.80001 14.2Z"})},25124:function(e,l,t){t.d(l,{Z:function(){return a}});var n=t(36492),r=t(45759);let i=async e=>{let{queryKey:l}=e,[,{context:t,vertical:n}]=l,{data:i}=await r.Z.get("/api/shipping/countries",{params:{format:"ranked",context:t,productCategory:n}});return i};var a=(e,l)=>{let{data:t,isLoading:r}=(0,n.a)(["chk.getCountries",{context:e,vertical:l}],i,{enabled:!!e,refetchOnMount:!1,refetchOnReconnect:!1,refetchOnWindowFocus:!1,select:e=>{let l=(null==e?void 0:e.all)??[],t=(null==e?void 0:e.top)??[],n=l.filter(Boolean),r=t.filter(Boolean);return{allCountries:n,topCountries:r}}});return{...t,countriesLoading:r}}},20727:function(e,l,t){var n=t(46461),r=t(67294),i=t(24999);l.Z=()=>{let e=(0,n.Z)();return(0,r.useMemo)(()=>Object.values(i.a2).filter(l=>!!l.active&&!(l.experiment&&!e[l.experiment])),[e])}},7503:function(e,l,t){t.d(l,{Z:function(){return X}});var n=t(35944),r=t(67294),i=t(18127),a=t(23353),o=t(14416),c=t(28389),d=t(23100),u=t(204),s=t(88911),p=t(64576),h=t(96272),v=t(56877),m=t(85893),f=({colorized:e,...l})=>(0,m.jsxs)(v.J,{viewBox:"0 0 50 50",...l,children:[e&&(0,m.jsx)("path",{d:"M25.0001 42.9C34.886 42.9 42.9001 34.8859 42.9001 25C42.9001 15.1141 34.886 7.09998 25.0001 7.09998C15.1142 7.09998 7.1001 15.1141 7.1001 25C7.1001 34.8859 15.1142 42.9 25.0001 42.9Z",fill:"#D4D1C7"}),(0,m.jsx)("path",{d:"M25 44C14.5 44 6 35.5 6 25C6 14.5 14.5 6 25 6C35.5 6 44 14.5 44 25C44 35.5 35.5 44 25 44ZM25 8.2C15.8 8.2 8.2 15.7 8.2 25C8.2 34.2 15.7 41.8 25 41.8C34.3 41.8 41.8 34.2 41.8 25C41.8 15.7 34.2 8.2 25 8.2Z",fill:e?"black":"currentColor"}),(0,m.jsx)("path",{d:"M25 18C19.5 18 14.3 16.7 10.7 14.4L11.9 12.5C15.1 14.6 19.9 15.8 25 15.8C30.1 15.8 34.7999 14.6 38.0999 12.5L39.2999 14.4C35.6999 16.7 30.5 18 25 18Z",fill:e?"black":"currentColor"}),(0,m.jsx)("path",{d:"M11.6999 37.1L10.3999 35.2C13.9999 32.8 19.2999 31.4 24.9999 31.4C30.5999 31.4 35.8999 32.8 39.4999 35.2L38.2999 37.1C35.0999 34.9 30.1999 33.7 24.9999 33.7C19.7999 33.7 14.8999 34.9 11.6999 37.1Z",fill:e?"black":"currentColor"}),(0,m.jsx)("path",{d:"M25 44C18.7 44 13.7 35.6 13.7 25C13.7 14.4 18.7 6 25 6C31.3 6 36.2999 14.4 36.2999 25C36.2999 35.6 31.3 44 25 44ZM25 8.3C20.1 8.3 16 16 16 25.1C16 34.2 20.1 41.9 25 41.9C29.9 41.9 34 34.2 34 25.1C34 16 29.9 8.3 25 8.3Z",fill:e?"black":"currentColor"}),(0,m.jsx)("path",{d:"M26.0999 7.09998H23.8999V42.9H26.0999V7.09998Z",fill:e?"black":"currentColor"}),(0,m.jsx)("path",{d:"M42.9001 23.9H7.1001V26.1H42.9001V23.9Z",fill:e?"black":"currentColor"})]}),C=t(29039),x=t(97358),g=t(7438),b=t(49941),Z=t(22396),y=t(20727),k=t(24999),_=t(17930),w=t(28093),L=t(67036),j=t(51337),S=t(18691),N=t(96177);let B=(0,j.m)(S.P,{baseStyle:{borderRadius:0,borderWidth:0,height:9,color:"neutral.600"}}),M=(0,j.m)(N.l,{baseStyle:{color:"neutral.500",fontSize:"xs",marginBottom:0,paddingLeft:3,paddingTop:1}});var z=t(32318),E=t(28087),I=t(25124),R=t(11085),P=()=>{let e=(0,o.v9)(_.so),{data:l=[]}=(0,E.Z)(),{topCountries:t,allCountries:n,countriesLoading:i}=(0,I.Z)(R.T.Buy,"sneakers"),a=(0,r.useMemo)(()=>null==t?void 0:t.concat(n||[]),[t,n]),c=(0,r.useMemo)(()=>null==a?void 0:a.map((e,l)=>({display:e.name,value:e.id,key:l})),[a]),d=(0,r.useMemo)(()=>l.map(e=>({id:e.id,display:e.name,value:e.iso2,preferredCurrency:e.preferredCurrency})),[l]),u=d.find(l=>{let{value:t}=l;return t===e});return{regions:d,regionOptions:c,regionsLoading:i,defaultRegion:u}},X=()=>{var e,l;let{i18n:t}=(0,a.$G)(),{isMobile:v,isTablet:m}=(0,c.EN)(),j=(0,g.Z)(),S=(0,w.Z)(),N=null==S?void 0:S.pathname,E=(0,y.Z)(),I=(0,o.v9)(_.DG),R=(0,o.v9)(_.so),X=(L.b?null===(e=k.a2[I])||void 0===e?void 0:e.filePath:null===(l=k.a2[I])||void 0===l?void 0:l.value)||"en",q=t.getFixedT(X,"feature.location-selector"),F=v?"location_selector_header_mobile_web":"Update your location to improve your experience on StockX.",V=q(F),{dispatchSetShowLocationSelector:D,saveSettings:G}=(0,z.Z)(),{regions:H,regionOptions:J,regionsLoading:T,defaultRegion:O}=P(),[$,W]=(0,r.useState)(!v),[U,A]=(0,r.useState)(O),[Y,Q]=(0,r.useState)(k.a2[I]),[K,ee]=(0,r.useState)(null);(0,i.Z)(()=>{j(b.EVENTS.LocationBannerDisplayed,Z.a.LocationModal,`${R} ip country`)}),(0,r.useEffect)(()=>{N&&null===K&&ee(N),null!==K&&N!==K&&D(!1,!1)},[N,K,D]),(0,r.useEffect)(()=>{!U&&(null==O?void 0:O.value)&&A(O)},[O,U]);let el=(0,r.useCallback)(()=>{v&&!$&&W(!0)},[v,$]);return(0,n.BX)(d.xu,{backgroundColor:"green.700",px:v?2:4,pb:3,pt:1,onClick:el,children:[(0,n.BX)(u.k,{direction:"row",justifyContent:"space-between",alignItems:"center",mx:v||m?0:9,color:"neutral.white",maxHeight:9,mb:v?1:0,"data-testid":"location-selector-header",children:[(0,n.BX)(u.k,{direction:"row",alignItems:"center",children:[v&&(0,n.tZ)(f,{marginRight:1,boxSize:5}),(0,n.tZ)(s.x,{fontSize:v?"xs":"md",children:V})]}),(0,n.tZ)(p.h,{size:"lg","data-testid":"location-selector-close-button","aria-label":"Close Location Selector",icon:(0,n.tZ)(C.Q,{}),onClick:()=>D(!1,!0)})]}),!$&&(0,n.tZ)(u.k,{direction:"row",ml:5,justifyContent:"start","data-testid":"location-selector-collapsed-view",children:(0,n.tZ)(h.z,{size:"sm",children:(0,n.BX)(s.x,{fontSize:"xs",children:[null==U?void 0:U.display," | ",null==Y?void 0:Y.display]})})}),$&&(0,n.BX)(u.k,{direction:v?"column":"row",ml:v||m?0:9,alignItems:"center","data-testid":"location-selector-dropdowns",children:[(0,n.BX)(d.xu,{borderColor:"neutral.gray",borderWidth:"1px",backgroundColor:"neutral.white",width:v?"100%":"341px",children:[(0,n.tZ)(M,{htmlFor:"region-select",children:q("Region")}),(0,n.tZ)(B,{id:"region-select",icon:(0,n.tZ)(x.J,{position:"absolute",top:"2px",boxSize:".75em !important"}),value:null==U?void 0:U.value,onChange:e=>{let l=H.find(l=>{var t;let{value:n}=l;return n===(null==e?void 0:null===(t=e.target)||void 0===t?void 0:t.value)});A(l)},children:null==J?void 0:J.map(e=>{let{display:l,value:t,key:r}=e;return(0,n.tZ)("option",{value:t,children:l},r)})})]}),(0,n.BX)(d.xu,{borderColor:"neutral.gray",borderWidth:"1px",backgroundColor:"neutral.white",mx:v?0:5,my:v?3:0,width:v?"100%":"341px",children:[(0,n.tZ)(M,{htmlFor:"language-select",children:q("Language")}),(0,n.tZ)(B,{id:"language-select",icon:(0,n.tZ)(x.J,{position:"absolute",top:"2px",boxSize:".75em !important"}),value:null==Y?void 0:Y.value,onChange:e=>{var l;Q(k.a2[null==e?void 0:null===(l=e.target)||void 0===l?void 0:l.value])},children:null==E?void 0:E.map(e=>{let{display:l,value:t}=e;return(0,n.tZ)("option",{value:t,children:l},l)})})]}),(0,n.tZ)(d.xu,{width:v?"100%":"auto",children:(0,n.tZ)(h.z,{variant:"secondary-dark",size:"lg",width:v?"100%":"auto",onClick:()=>G({updatedRegion:U,updatedLanguage:Y}),isLoading:T,isDisabled:T,children:q("Update")})})]})]})}},32318:function(e,l,t){var n=t(67294),r=t(14416),i=t(55177),a=t(7438),o=t(49941),c=t(22396),d=t(47007);l.Z=()=>{let e=(0,r.I0)(),l=(0,a.Z)(),{setShowLocationSelector:t}=(0,d.Z)(),u=(0,n.useCallback)((e,l)=>t(e,l),[t]),s=(0,n.useCallback)(l=>{let{language:t,url:n,code:r,urlPrefix:a,currency:o}=l;return e((0,i.m0)({language:t,url:n,code:r,urlPrefix:a,currency:o}))},[e]),p=(0,n.useCallback)(l=>{let{selectedRegion:t}=l;return e((0,i.dA)({selectedRegion:t}))},[e]),h=(0,n.useCallback)(e=>{let{updatedRegion:t,updatedLanguage:n}=e;s({language:n.display,url:n.url,code:n.value,urlPrefix:n.urlPrefix,currency:t.preferredCurrency}),p({selectedRegion:t.value}),l(o.EVENTS.LocationBannerSettingsUpdated,c.a.LocationModal,`Language: ${n.value}, Region: ${t.value}, Currency: ${t.preferredCurrency}`),u(!1,!1)},[s,p,u,l]);return{saveSettings:h,dispatchSetShowLocationSelector:u}}},11085:function(e,l,t){var n,r;t.d(l,{T:function(){return n}}),(r=n||(n={})).Buy="buy",r.Sell="sell"},96177:function(e,l,t){t.d(l,{l:function(){return u}});var n=t(70654),r=t(35059),i=t(91639),a=t(33179),o=t(51337),c=t(25432),d=t(85893),u=(0,r.G)(function(e,l){var t;let r=(0,i.mq)("FormLabel",e),u=(0,a.Lr)(e),{className:p,children:h,requiredIndicator:v=(0,d.jsx)(s,{}),optionalIndicator:m=null,...f}=u,C=(0,n.NJ)(),x=null!=(t=null==C?void 0:C.getLabelProps(f,l))?t:{ref:l,...f};return(0,d.jsxs)(o.m.label,{...x,className:(0,c.cx)("chakra-form__label",u.className),__css:{display:"block",textAlign:"start",...r},children:[h,(null==C?void 0:C.isRequired)?v:m]})});u.displayName="FormLabel";var s=(0,r.G)(function(e,l){let t=(0,n.NJ)(),r=(0,n.e)();if(!(null==t?void 0:t.isRequired))return null;let i=(0,c.cx)("chakra-form__required-indicator",e.className);return(0,d.jsx)(o.m.span,{...null==t?void 0:t.getRequiredIndicatorProps(e,l),__css:r.requiredIndicator,className:i})});s.displayName="RequiredIndicator"},18691:function(e,l,t){t.d(l,{P:function(){return p}});var n=t(25432),r=t(35059),i=t(51337),a=t(85893),o=(0,r.G)(function(e,l){let{children:t,placeholder:r,className:o,...c}=e;return(0,a.jsxs)(i.m.select,{...c,ref:l,className:(0,n.cx)("chakra-select",o),children:[r&&(0,a.jsx)("option",{value:"",children:r}),t]})});o.displayName="SelectField";var c=t(74939),d=t(91639),u=t(33179),s=t(67294),p=(0,r.G)((e,l)=>{var t;let r=(0,d.jC)("Select",e),{rootProps:s,placeholder:p,icon:h,color:v,height:f,h:C,minH:x,minHeight:g,iconColor:b,iconSize:Z,...y}=(0,u.Lr)(e),[k,_]=function(e,l){let t={},n={};for(let[r,i]of Object.entries(e))l.includes(r)?t[r]=i:n[r]=i;return[t,n]}(y,u.oE),w=(0,c.Y)(_),L={paddingEnd:"2rem",...r.field,_focus:{zIndex:"unset",...null==(t=r.field)?void 0:t._focus}};return(0,a.jsxs)(i.m.div,{className:"chakra-select__wrapper",__css:{width:"100%",height:"fit-content",position:"relative",color:v},...k,...s,children:[(0,a.jsx)(o,{ref:l,height:null!=C?C:f,minH:null!=x?x:g,placeholder:p,...w,__css:L,children:e.children}),(0,a.jsx)(m,{"data-disabled":(0,n.PB)(w.disabled),...(b||v)&&{color:b||v},__css:r.icon,...Z&&{fontSize:Z},children:h})]})});p.displayName="Select";var h=e=>(0,a.jsx)("svg",{viewBox:"0 0 24 24",...e,children:(0,a.jsx)("path",{fill:"currentColor",d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"})}),v=(0,i.m)("div",{baseStyle:{position:"absolute",display:"inline-flex",alignItems:"center",justifyContent:"center",pointerEvents:"none",top:"50%",transform:"translateY(-50%)"}}),m=e=>{let{children:l=(0,a.jsx)(h,{}),...t}=e,n=(0,s.cloneElement)(l,{role:"presentation",className:"chakra-select__icon",focusable:!1,"aria-hidden":!0,style:{width:"1em",height:"1em",color:"currentColor"}});return(0,a.jsx)(v,{...t,className:"chakra-select__icon-wrapper",children:(0,s.isValidElement)(l)?n:null})};m.displayName="SelectIcon"}}]);